---
layout: post
title: PHP隐藏IP后一位或后两位的解决方法
date: 2012-02-23 22:55:15
category: 代码
tags: PHP IP
---

一般在评论系统中会经常用到展示IP地址，但为了不全部展示IP地址，所以要对IP地址做处理：隐藏最后一位或最后两位。  

以下是具体的实现方法： 
    
    
    <?php
    　　$ip = '255.255.255.255';
    　　$reg1 = '/((?:\d+\.){3})\d+/';
    　　$reg2 = '~(\d+)\.(\d+)\.(\d+)\.(\d+)~';
    　　echo preg_replace($reg1, "\\1*", $ip);//以上输出结果为：255.255.255.*
    　　echo "<br>";
    　　echo preg_replace($reg2, "$1.$2.*.*", $ip);//以上输出结果为：255.255.*.*
    ?>